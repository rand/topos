{"id":"topos-128","content_hash":"700b91392179b7ca1213d1c5d2e3fd7dcffc3be20c5a1cb3cf622e14e59a99b9","title":"Wire up tree-sitter-topos to topos-analysis","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T10:47:26.104324-07:00","updated_at":"2026-01-08T10:49:32.39945-07:00","closed_at":"2026-01-08T10:49:32.39945-07:00","source_repo":"."}
{"id":"topos-14e","content_hash":"ce2d471d66b3c845a77a4fc83f4261cb9851537da80197f9442e43477d95d9bb","title":"Initialize Cargo.toml for each crate with basic dependencies","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T09:04:06.780996-07:00","updated_at":"2025-12-20T09:06:00.311645-07:00","closed_at":"2025-12-20T09:06:00.311645-07:00","source_repo":"."}
{"id":"topos-2ba","content_hash":"a8462a0ae60ef34c62af49c2e833921ca8d1db60a83234b2016023790d3f912e","title":"Phase 1: Implement typed AST (topos-syntax)","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-08T13:49:35.883546-07:00","updated_at":"2026-01-08T13:58:39.37443-07:00","closed_at":"2026-01-08T13:58:39.37443-07:00","source_repo":".","dependencies":[{"issue_id":"topos-2ba","depends_on_id":"topos-lhu","type":"blocks","created_at":"2026-01-08T13:49:52.98183-07:00","created_by":"daemon"}]}
{"id":"topos-30q","content_hash":"ae87ead3475f46d5bc2c89ec460d08b98807a7260aa3367f46722ef7e5129fe4","title":"Build extract_spec MCP Tool","description":"MCP tool that extracts spec updates from anchored code regions. Enables AI to suggest spec changes when code changes.\n\nTool signature:\n- Input: file paths, anchor filters\n- Output: suggested spec additions/modifications\n\nDepends on: @topos anchor annotation parser\n\nSecurity: Only read from anchored regions, never execute arbitrary code.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-15T15:50:10.247496-07:00","updated_at":"2026-01-15T16:59:58.909748-07:00","closed_at":"2026-01-15T16:59:58.909748-07:00","source_repo":".","labels":["anchors","mcp","v2"]}
{"id":"topos-3ef","content_hash":"93d075770f208dbd44a9ede731555c4193cb0cfb90fc2af90cdb235fc2aebb0d","title":"Create User Documentation and Getting Started Guide","description":"Write user-facing documentation for Topos adoption.\n\nContents:\n- Getting started guide (install, first spec, IDE setup)\n- Language reference (quick syntax guide)\n- Example specs for common domains (auth, orders, users)\n- Workflow guide (spec→context→code)\n- CLI reference\n\nLocation: docs/ directory or dedicated docs site.","design":"Traces: [SPEC-01.3]\\n\\nImplementation approach:\\n1. Create docs/guide/ directory\\n2. getting-started.md - install, first spec, IDE setup\\n3. language-reference.md - syntax quick reference\\n4. examples/ directory with domain specs\\n5. workflow.md - spec→context→code loop","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-15T15:50:10.849251-07:00","updated_at":"2026-01-15T17:12:09.700267-07:00","closed_at":"2026-01-15T17:12:09.700267-07:00","source_repo":".","labels":["docs","user-facing","v1"]}
{"id":"topos-447","content_hash":"f86f7210dda33e4cc514f616bd60e381326e0adc5dfc13696974fee561a19dc1","title":"Connect check function to LSP diagnostics","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T15:36:26.716876-07:00","updated_at":"2025-12-20T15:36:55.189933-07:00","closed_at":"2025-12-20T15:36:55.189933-07:00","source_repo":"."}
{"id":"topos-48q","content_hash":"a691e5323dd77b8cea545a23101a51501cbf4fc41133ccc7fb0a367c1b5c6333","title":"Fix ears_clause matching in Requirements grammar","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T09:51:18.140449-07:00","updated_at":"2026-01-08T10:06:17.369114-07:00","closed_at":"2026-01-08T10:06:17.369114-07:00","source_repo":"."}
{"id":"topos-7rp","content_hash":"fe98c1f1b76821f1b043b6416c63c9a72d64cff61b9054e09aaa2054b2e5d004","title":"Implement a basic 'check' function using tree-sitter","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T15:35:51.629866-07:00","updated_at":"2025-12-20T15:36:17.22414-07:00","closed_at":"2025-12-20T15:36:17.22414-07:00","source_repo":"."}
{"id":"topos-8e1","content_hash":"3ff8768cd29e61bf7ad6e515ce953a62d4d574096e6b481ddb3c0aca208ada69","title":"Implement Semantic Drift Detection","description":"Extend drift detection beyond structural comparison to semantic analysis.\n\nCurrent V1 drift detection catches:\n- Added/removed concepts, behaviors, tasks\n- Field changes, type changes\n\nV2 semantic drift should catch:\n- Prose meaning changes (behavior descriptions)\n- Invariant semantic equivalence\n- Soft constraint [~] satisfaction\n\nApproach: LLM-as-judge for semantic comparison with confidence scoring.\n\nDepends on: Active MCP server connection.","design":"Traces: [SPEC-03.2], [ADR-0003]\\n\\nImplementation approach:\\n1. Extend DriftReport with semantic_issues field\\n2. LLM-as-judge comparison for prose content\\n3. Confidence thresholds: \u003e=0.8 definite, 0.5-0.8 probable, \u003c0.5 inconclusive\\n4. CLI --semantic flag triggers LLM comparison\\n5. Graceful degradation when LLM unavailable","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-15T15:51:48.130208-07:00","updated_at":"2026-01-15T16:01:04.103295-07:00","source_repo":".","labels":["analysis","intelligence","v2"]}
{"id":"topos-8ma","content_hash":"6adf8ce0025b204659f2f621c0d1b0e0f0aa68ac41f6ad25c3887525e23bfacc","title":"Integrate tree-sitter-topos into topos-analysis","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T15:35:06.574301-07:00","updated_at":"2025-12-20T15:35:41.169702-07:00","closed_at":"2025-12-20T15:35:41.169702-07:00","source_repo":"."}
{"id":"topos-8vx","content_hash":"d69ec49debf67a6a428354d33f823b04c2173952f0826c460fd097a4c1af9f9b","title":"Implement corpus tests for top-level sections","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T10:48:32.103702-07:00","updated_at":"2025-12-22T10:51:45.348459-07:00","closed_at":"2025-12-22T10:51:45.348459-07:00","source_repo":"."}
{"id":"topos-a18","content_hash":"475684aab3d4a0232a16d9ab94d1f8ee156b2b58b290fb01928d1c435cd3a107","title":"Debug and fix grammar conflicts and scanner logic for complex blocks","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T09:22:38.499708-07:00","updated_at":"2026-01-08T10:01:21.924523-07:00","closed_at":"2026-01-08T10:01:21.924523-07:00","source_repo":"."}
{"id":"topos-a62","content_hash":"2843fe7fa69c75d1b4e5e2103a8933537c9ea219433eed82b7683612b69a8bc6","title":"Define basic Topos grammar in tree-sitter-topos/grammar.js","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T10:26:27.762772-07:00","updated_at":"2025-12-22T10:48:21.262889-07:00","closed_at":"2025-12-22T10:48:21.262889-07:00","source_repo":"."}
{"id":"topos-b2k","content_hash":"7192e15119e79dc05d6184f015af501bb84b2537820ca797692f8e395fae7405","title":"Create directory structure for all workspace crates (crates/topos-*)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T09:03:21.921325-07:00","updated_at":"2025-12-20T09:04:03.460044-07:00","closed_at":"2025-12-20T09:04:03.460044-07:00","source_repo":"."}
{"id":"topos-bu2","content_hash":"02b4dc9d9c471bca27cfec729dd87a3fa9820a07a374743a774bb68939b58918","title":"Write unit tests for LSP server initialization","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T11:22:58.987489-07:00","updated_at":"2025-12-20T11:23:16.902157-07:00","closed_at":"2025-12-20T11:23:16.902157-07:00","source_repo":"."}
{"id":"topos-d6c","content_hash":"56ecc7061e88deffb5e349607957ccc98cf880985f1e8c5c9c17a6f3fdc3a8fe","title":"Implement ToposServer struct in topos-lsp using tower-lsp","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T11:22:12.054376-07:00","updated_at":"2025-12-20T11:22:49.039824-07:00","closed_at":"2025-12-20T11:22:49.039824-07:00","source_repo":"."}
{"id":"topos-e53","content_hash":"4a348a0f1e02665e988facac4a976c31c0ae51d54da507fe40f3d30f79736341","title":"Add CLI E2E Test Suite","description":"Create end-to-end tests for the CLI to prevent regressions. Currently the CLI has no dedicated tests.\n\nCommands to test:\n- `topos check` - validation\n- `topos format` - formatting roundtrip\n- `topos trace` - traceability output\n- `topos context` - context compilation\n- `topos drift` - structural diffing\n- `topos gather` - evidence collection\n\nUse assert_cmd crate for CLI testing.","design":"Traces: [SPEC-01.2]\\n\\nImplementation approach:\\n1. Add assert_cmd and predicates to dev-dependencies\\n2. Create tests/cli/ directory\\n3. One test file per command (check, format, trace, context, drift, gather)\\n4. Test success cases, error cases, edge cases\\n5. Snapshot testing for output format stability","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-15T15:50:08.076904-07:00","updated_at":"2026-01-15T16:33:05.63129-07:00","closed_at":"2026-01-15T16:33:05.63129-07:00","source_repo":".","labels":["cli","testing","v1"]}
{"id":"topos-g3b","content_hash":"f8fb11765f09ea713e57f52636c0069004c07c92a3e20774e66cbf415ed2d73a","title":"Grammar gaps from spec review","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-08T11:01:48.724575-07:00","updated_at":"2026-01-08T13:24:02.257982-07:00","closed_at":"2026-01-08T13:24:02.257982-07:00","source_repo":"."}
{"id":"topos-hgj","content_hash":"493fbc0839afc7ea13127bec9ad94ae869c00301ec429997cb2c9fcf3a5c7019","title":"Implement @topos Anchor Annotation Parser","description":"Foundation for V2 anchored reverse extraction. Parse @topos annotations from Rust code to enable code→spec extraction.\n\nAnnotation format:\n```rust\n// @topos(req=\"REQ-17\", concept=\"Order\")\npub struct Order { ... }\n\n// @topos(behavior=\"create_order\", implements=\"REQ-17\")\npub fn create_order(...) { ... }\n```\n\nScope:\n- Define annotation grammar\n- Parse annotations from Rust comments\n- Link anchors to spec elements\n- Track anchor locations for change detection\n\nThis enables the `extract_spec` MCP tool.","design":"Traces: [SPEC-02.1], [ADR-0002]\\n\\nImplementation approach:\\n1. Define anchor grammar in topos-analysis/src/anchors.rs\\n2. Regex-based parser for @topos(...) in Rust comments\\n3. Extract attributes: concept, behavior, req, task, field, implements\\n4. Build AnchorRegistry in Salsa database\\n5. Validate anchor targets exist in spec\\n6. Emit diagnostics for invalid/orphan anchors","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-15T15:50:09.169559-07:00","updated_at":"2026-01-15T16:51:24.119925-07:00","closed_at":"2026-01-15T16:51:24.119925-07:00","source_repo":".","labels":["analysis","anchors","v2"]}
{"id":"topos-kd7","content_hash":"3075fbfb10a680cc5c3c0125d596488bf6d73a349fb49c5e58e9d888dc021c06","title":"Phase 4: MCP server \u0026 drift detection","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T13:49:36.835858-07:00","updated_at":"2026-01-08T14:36:59.752568-07:00","closed_at":"2026-01-08T14:36:59.752568-07:00","source_repo":"."}
{"id":"topos-l0z","content_hash":"3e87ec01e1b8ec700059b411514a229f581d102ab6b79a49475befa7d657b96c","title":"Implement Typed Hole Suggestions via LLM","description":"Use MCP client to get LLM-powered suggestions for typed holes [?].\n\nWhen a spec contains a typed hole like:\n```\nensures: [?handler : `Input` -\u003e `Output`]\n```\n\nThe system should suggest concrete implementations based on:\n- The hole's type signature\n- Surrounding context (concepts, behaviors)\n- Project conventions\n\nScope:\n- Extend hole analysis to gather context\n- MCP client call to LLM for suggestions\n- LSP code action to apply suggestions","design":"Traces: [SPEC-03.1], [ADR-0003]\\n\\nImplementation approach:\\n1. Define LlmProvider trait in topos-mcp/src/llm.rs\\n2. Implement AnthropicProvider with claude-sonnet\\n3. HoleContext struct gathers surrounding spec elements\\n4. suggest_hole MCP tool calls LLM with context\\n5. LSP code action surfaces suggestions on [?] markers\\n6. Confidence scoring and filtering","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T15:51:47.049875-07:00","updated_at":"2026-01-15T17:23:28.727425-07:00","closed_at":"2026-01-15T17:23:28.727425-07:00","source_repo":".","labels":["intelligence","mcp","v2"]}
{"id":"topos-lhu","content_hash":"02d45053fc51eaeb76a1cfc0aec5cc7ae44592969a522956b6c4d7da8a50d006","title":"Phase 2: Symbol table \u0026 semantic analysis (topos-analysis)","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-08T13:49:36.176795-07:00","updated_at":"2026-01-08T14:08:51.01978-07:00","closed_at":"2026-01-08T14:08:51.01978-07:00","source_repo":".","dependencies":[{"issue_id":"topos-lhu","depends_on_id":"topos-w3b","type":"blocks","created_at":"2026-01-08T13:49:53.046222-07:00","created_by":"daemon"},{"issue_id":"topos-lhu","depends_on_id":"topos-kd7","type":"blocks","created_at":"2026-01-08T13:49:53.111447-07:00","created_by":"daemon"}]}
{"id":"topos-maa","content_hash":"173743ec95658d241b8ad7d74714ae12232528444641576ee7469a9ea3f3a942","title":"Fix tree-sitter grammar prose/keyword disambiguation","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-08T10:29:12.069184-07:00","updated_at":"2026-01-08T10:47:18.916262-07:00","closed_at":"2026-01-08T10:47:18.916262-07:00","source_repo":"."}
{"id":"topos-o20","content_hash":"9d35cf1bb57ff88ad093ad50fa736e86a421f53a94829e197edc15df07e9d4d3","title":"Build extract_spec MCP Tool","description":"MCP tool that extracts spec updates from anchored code regions. Enables AI to suggest spec changes when code changes.\n\nTool signature:\n- Input: file paths, anchor filters\n- Output: suggested spec additions/modifications\n\nDepends on: @topos anchor annotation parser (topos-hgj)\n\nSecurity: Only read from anchored regions, never execute arbitrary code.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-15T15:50:17.436227-07:00","updated_at":"2026-01-15T16:53:59.483499-07:00","closed_at":"2026-01-15T16:53:59.483499-07:00","source_repo":".","labels":["anchors","mcp","v2"],"dependencies":[{"issue_id":"topos-o20","depends_on_id":"topos-hgj","type":"blocks","created_at":"2026-01-15T15:51:45.892175-07:00","created_by":"daemon"}]}
{"id":"topos-s84","content_hash":"1b0f63204e37db238031b8581f4c23cbc5182f7a098ad7ea2bbed901879d33fc","title":"Ship VS Code Extension for Topos","description":"Package and publish the VS Code extension to enable IDE integration. Without this, users cannot effectively use Topos in their development workflow.\n\nScope:\n- Package existing LSP server as VS Code extension\n- Syntax highlighting via TextMate grammar\n- Diagnostics, hover, go-to-definition, completions\n- Extension marketplace metadata\n\nThis is the critical missing piece for V1 to be usable.","design":"Traces: [SPEC-01.1]\\n\\nImplementation approach:\\n1. Create editors/vscode/ directory structure\\n2. Package.json with LSP client configuration\\n3. TextMate grammar from tree-sitter queries\\n4. Extension activation on .tps files\\n5. Publish to VS Code Marketplace","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-15T15:50:06.81285-07:00","updated_at":"2026-01-15T16:21:41.645927-07:00","closed_at":"2026-01-15T16:21:41.645927-07:00","source_repo":".","labels":["ide","user-facing","v1"]}
{"id":"topos-u4j","content_hash":"8af641d524ca47bb8f401854a5429049aaf7427efe9cddefde9420c6142e8d7f","title":"Implement grammar for Requirements and Concepts","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T10:51:56.030115-07:00","updated_at":"2026-01-08T09:15:10.414814-07:00","closed_at":"2026-01-08T09:15:10.414814-07:00","source_repo":"."}
{"id":"topos-uas","content_hash":"e5c8fed8a46085a873354f7009b51bfc974a5627278840c67aeded8a16601dbb","title":"Update LSP to use real topos-analysis diagnostics","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T10:54:32.288282-07:00","updated_at":"2026-01-08T10:55:26.235938-07:00","closed_at":"2026-01-08T10:55:26.235938-07:00","source_repo":"."}
{"id":"topos-ums","content_hash":"3ed55fefa6252a867b30902fb3f3ad15d6de0b2d2f1dba2a7ff136b31cfa62f3","title":"Implement grammar for Tasks and Typed Holes","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T10:02:35.537317-07:00","updated_at":"2026-01-08T10:04:48.279717-07:00","closed_at":"2026-01-08T10:04:48.279717-07:00","source_repo":"."}
{"id":"topos-w3b","content_hash":"16f429656669c411da79e444cf32f3b2071e5979d000d4603bbad5196ebf3cc3","title":"Phase 3: LSP features, context compiler, CLI commands","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T13:49:36.470767-07:00","updated_at":"2026-01-08T14:18:34.949396-07:00","closed_at":"2026-01-08T14:18:34.949396-07:00","source_repo":"."}
{"id":"topos-xbe","content_hash":"10b8a22b0d6304707a544c6c3887a25eabc5687f86f955e1a8b5620824966477","title":"Implement topos check CLI command","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T10:49:39.959377-07:00","updated_at":"2026-01-08T10:54:24.630409-07:00","closed_at":"2026-01-08T10:54:24.630409-07:00","source_repo":"."}
{"id":"topos-zfu","content_hash":"6a2556f7882b04063abf349749e2847d89520beb3dc7bc4a21fdeca1a33ce020","title":"Implement stdio transport in topos-cli to launch the LSP server","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T11:23:25.711192-07:00","updated_at":"2025-12-20T11:23:53.226982-07:00","closed_at":"2025-12-20T11:23:53.226982-07:00","source_repo":"."}
